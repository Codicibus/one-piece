import{a2 as a,d as e,U as t,a3 as o,u as r,a4 as s,a5 as n,r as l,o as i,c as u,a as d,i as m,f as p}from"./vendor.9783560a.js";import{r as c}from"./request.648071a6.js";import{s as f}from"./index.4383894e.js";var g=a({id:"login",state:()=>({loading:!1}),getters:{},actions:{async userLogin(a){try{const{token:e}=await c.post("/v1/user/login",a);f(e)}catch(e){return console.error(e)}}}});const v=e({components:{UserOutlined:t,LockOutlined:o},setup(){const a=g(),e=r(),t=s({username:"",password:""}),o=n(t);return{formState:t,onSubmit:async()=>{a.$patch({loading:!0}),await a.userLogin(o),await e.push("/admin/dashboard"),a.$patch({loading:!1})},loginStore:a}}}),S={class:"login"},h=p(" ONE PIECE "),y=p(" 登录 ");v.render=function(a,e,t,o,r,s){const n=l("a-typography-title"),p=l("UserOutlined"),c=l("a-input"),f=l("a-form-item"),g=l("LockOutlined"),v=l("a-input-password"),_=l("a-button"),w=l("a-form");return i(),u("div",S,[d(n,{level:2,class:"title"},{default:m((()=>[h])),_:1}),d(w,{model:a.formState,layout:"vertical"},{default:m((()=>[d(f,null,{default:m((()=>[d(c,{value:a.formState.username,"onUpdate:value":e[1]||(e[1]=e=>a.formState.username=e),placeholder:"请输入用户名"},{prefix:m((()=>[d(p)])),_:1},8,["value"])])),_:1}),d(f,null,{default:m((()=>[d(v,{value:a.formState.password,"onUpdate:value":e[2]||(e[2]=e=>a.formState.password=e),placeholder:"请输入密码",onPressEnter:a.onSubmit},{prefix:m((()=>[d(g)])),_:1},8,["value","onPressEnter"])])),_:1}),d(f,null,{default:m((()=>[d(_,{type:"primary",onClick:a.onSubmit,block:"",loading:a.loginStore.loading},{default:m((()=>[y])),_:1},8,["onClick","loading"])])),_:1})])),_:1},8,["model"])])};export default v;
